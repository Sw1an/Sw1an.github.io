[ { "title": "BTRSys2.1 Medium box on Offensive Security Proving Grounds - OSCP Preparation.", "url": "/posts/pg-btrsys2-1/", "categories": "OSCP, Proving Grounds", "tags": "oscp medium box, PG medium box, enumeration, misc, mysql, privilege escalation, sudo, linux", "date": "2021-12-10 11:33:00 +0000", "snippet": "Hello,We are going to exploit one of OffSec Proving Grounds Medium machines which called BTRSys2.1 and this post is not a fully detailed walkthrough, I will just go through the important points during the exploit process.Enumeration: Nmap:Getting Shell: Wordpress running on port 80, you can login with Creds: User: admin Pass: admin Edit the theme and add your payload to any writable php file: Access the shell:Privilege Escalation: Mysql Creds:found in wp-config.php for wordpress:/** MySQL database username */define('DB_USER', 'root');/** MySQL database password */define('DB_PASSWORD', 'rootpassword!');Enumerating Mysql: Databases: +--------------------+| Database |+--------------------+| information_schema || deneme || mysql || performance_schema || phpmyadmin || sys || wordpress |+--------------------+ Explore wordpress DB: mysql&gt; use wordpress;mysql&gt; show tables;+----------------------------+| Tables_in_wordpress |+----------------------------+| wp_abtest_experiments |...| wp_usermeta || wp_users |+----------------------------+ Getting password for btrisk user then getting root:Happy Hacking!" }, { "title": "Sar Easy box on Offensive Security Proving Grounds - OSCP Preparation.", "url": "/posts/pg-sar-box/", "categories": "OSCP, Proving Grounds", "tags": "oscp easy box, PG easy box, enumeration, cve, privilege escalation, cron, linux", "date": "2021-12-09 11:33:00 +0000", "snippet": "Hello,We are going to exploit one of OffSec Proving Grounds easy machines which called Sar and this post is not a fully detailed walkthrough, I will just go through the important points during the exploit process.Enumeration: Nmap: Getting Shell: The port 80 is running sar2HTML application:Privilege Escalation: Running LinEnum: Exploiting cronjob and getting root on the box: Reverse Shell: I used this script to generate Reverse Shell and running a netcat listener:Happy Hacking!" }, { "title": "Potato Easy box on Offensive Security Proving Grounds - OSCP Preparation.", "url": "/posts/pg-potato-box/", "categories": "OSCP, Proving Grounds", "tags": "oscp easy box, PG easy box, enumeration, strcmp, privilege escalation, sudo, linux", "date": "2021-12-08 11:33:00 +0000", "snippet": "Hello,We are going to exploit one of OffSec Proving Grounds easy machines which called Potato and this post is not a fully detailed walkthrough, I will just go through the important points during the exploit process.Enumeration: Nmap: FTP Anon Login: Content of index.php.bak file: &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;?php$pass= \"potato\"; //note Change this password regularlyif($_GET['login']===\"1\"){ if (strcmp($_POST['username'], \"admin\") == 0 &amp;&amp; strcmp($_POST['password'], $pass) == 0) { echo \"Welcome! &lt;/br&gt; Go to the &lt;a href=\\\"dashboard.php\\\"&gt;dashboard&lt;/a&gt;\"; setcookie('pass', $pass, time() + 365*24*3600); }else{ echo \"&lt;p&gt;Bad login/password! &lt;/br&gt; Return to the &lt;a href=\\\"index.php\\\"&gt;login page&lt;/a&gt; &lt;p&gt;\"; } exit();}?&gt; &lt;form action=\"index.php?login=1\" method=\"POST\"&gt; &lt;h1&gt;Login&lt;/h1&gt; &lt;label&gt;&lt;b&gt;User:&lt;/b&gt;&lt;/label&gt; &lt;input type=\"text\" name=\"username\" required&gt; &lt;/br&gt; &lt;label&gt;&lt;b&gt;Password:&lt;/b&gt;&lt;/label&gt; &lt;input type=\"password\" name=\"password\" required&gt; &lt;/br&gt; &lt;input type=\"submit\" id='submit' value='Login' &gt; &lt;/form&gt;&lt;/body&gt;&lt;/html&gt; Authentication Bypass:So if you get a close look at the source code above you will notice that the application uses strcmp on line 8 to check for the username and password and that can be bypassed with username[]=\"\"&amp;password[]=\"\" like shown bellow. Exploit Local File Inclusion (LFI):As you can see in the picture bellow thereâ€™s a password for the user webadmin in /etc/passwd: Crack the password for webadmin user using john:Privilege Escalation: sudo -l: Getting root: Happy Hacking!" } ]
